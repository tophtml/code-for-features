<!DOCTYPE html>
<html>
<head>
	<title></title>
	<style type="text/css">
.test {	background-color: pink;	height: 150px;	color: white;	width: 150px;	margin: 0 auto;	text-align: center;}
.overlay {	position: fixed;	width: 100%;	height: 100%;	top: 0;	left: 0; 	background-color: rgba(0,0,0,0.3);	}
	</style>
</head>
<body>
	<div class="overlay">
		<div class="test">
			<p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Impedit soluta quibusdam </p>
		</div>
	</div>
<script type="text/javascript">
	let test = document.querySelector('.test');
	let overlay = document.querySelector('.overlay').style;
	function removeTest(e) {
	    if(!e.target.matches('.test, .test *')) {
	        test.remove();
	        this.removeEventListener('click', removeTest);
	        overlay.display = 'none';
	    }
	};
	window.addEventListener('click', removeTest);
	let modal = document.querySelector('.test')

	window.addEventListener('keydown', function (event) {
	  if (event.key === 'Escape') {
	    modal.style.display = 'none'
	    overlay.display = 'none';
	  }
	})
</script>
</body>
</html>
